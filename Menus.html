<!DOCTYPE html>

  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Menus</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="menu.css" />
    <link href="login.js" />
    <!--for boxicon css-->

    <link
      href="https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css"
      rel="stylesheet"
    />
    <style>
      
</style>
    </style>
  </head>

  
    <section id="sidebar">
      <a href="#" class="brand">
        <i class="bx bxs-smile"></i>
        <span class="text">Receptionist</span>
      </a>
      <ul class="side-menu top">
        <li >
          <a href="reseptionist.html">
            <i class="bx bxs-dashboard"></i>
            <span class="text">Dashboard</span>
          </a>
        </li>
        <li class="active">
          <a href="Menus.html">
            <i class='bx bxs-shopping-bag-alt' ></i>
            <span class="text">Menu</span>
          </a>
        </li>
              <li>
          <a href="receptionist-offer.html">
            <i class='bx bxs-offer' ></i>
            <span class="text">offers</span>
          </a>
        </li>
        <li>
          <a href="#">
            <i class='bx bxs-box' ></i>
            <span class="text">Inventory</span>
          </a>
        </li>
        <li>
          <a href="callenderreceptionist.html">
            <i class='bx bxs-calendar' ></i>
            <span class="text">calendar</span>
          </a>
        </li>
      </ul>
      <ul class="side-menu">
        <li>
          <a href="receptionistsetting.html">
            <i class="bx bxs-cog"></i>
            <span class="text">Settings</span>
          </a>
        </li>
        <li>
          <a href="index.html" class="logout">
            <i class="bx bxs-log-out-circle"></i>
            <span class="text">Logout</span>
          </a>
        </li>
      </ul>
    </section>



<!-- CONTENT -->
<section id="content">
    <!-- NAVBAR -->
    <nav>
        <i class='bx bx-menu' ></i>
        <img src="img/hotellogo1.png" height="60px">
        <form  autocomplete="off">
          <div class="form-input" id="input-box">
              <input type="search" id="searchInput" placeholder="Search...">
              <button type="submit" class="search-btn"><i class='bx bx-search'></i></button>
          </div>
          <div class="result-box"></div>
        </form>
        <!--<input type="checkbox" id="switch-mode" hidden>
        <label for="switch-mode" class="switch-mode"></label>-->
                <a href="#" class="notification">
            <i class='bx bxs-bell' ></i>
            <span class="num">8</span>
        </a>
        

       <!---- <a href="#" class="profile">
            <img src="img/people.png">
        </a>-->
    </nav>
    <!-- NAVBAR -->
   

 <!--menu content-->


 <main>
    <div class="head-title">
        <div class="left">
           
            <ul class="breadcrumb">
                <li>
                    <a href="receptionist.css">Dashboard</a>
                </li>
                <li><i class='bx bx-chevron-right' ></i></li>
                <li>
                    <a class="active" href="Menus.html"><h3>Menu</h3></a>
                </li>
            </ul>
        </div>
        
    </div>
         <h1 class="heading">Most Popular Food</h1>
    <div class="box-info" id="menuItems">
      <!--<a href="pizzareceptionist.html"><div>
          <img src="pizza.png" class="veg">
            <h3>Pizza</h3>
            <p>&#8377 300</p>
        </div></a>-->
       <!-- <div>
            <img src="img/burger.jpg" class="veg">
                <h3>Burger</h3>
                <p>&#8377 200</p>
        </div>-->
       <!-- <div>
          <a href="receptionist_menudes.html"><div> 
            <img src="img/veg biryani.jpeg" class="veg" >  
                <h3>Biryani</h3>
                <p>&#8377 150</p>
              </div>
             </a>
        </div>-->
        <!--<div>
            <img src="img/soup.jpeg" class="veg">
                <h3>Soup</h3>
                <p>&#8377 100</p>
         </div>
         <div>
            <img src="desert.jpg" class="veg">
                <h3>Desert</h3>
                <p>&#8377 90</p>
         </div>-->
     </div>

 
    <div class="table-data" id="table-data"><span class="loader"></span>
        <div class="order"><h1 class="heading">veg Food</h1><br><br>
          <div class="head" id ="veg-head">
             
           <!-- <div><a href="paneertikareceptionist.html"><img src="img/paneer tikka.avif" class="veg-des"><br><p> Panner Tikka<br> &#8377 150</p></div></a>
            <img src="img/matar paneer.png" class="veg-des">
            <img src="img/allutikki.jpeg" class="veg-des">
           <a href="paneerbuterreceptionist.html"> <img src="/img/pannerbutter.jpg" class="veg-des"></a>
            <img src="/img/kashmiri pulao.jpeg" class="veg-des">
            <img src="/img/dal makani.jpg" class="veg-des">-->
          
        </div>
       <!-- <div class="head-des">
          
            
             <p>Matar Panner<br> &#8377 150</p>
               <p>Potato Cutlet
                <br> &#8377 150</p>
              <p>Paneer Butter Masala <br>&#8377 150</p>
               <p>Kashmiri Pulao <br> &#8377 150</p>
            <p>Dal Makhani <br>&#8377 150</p></tr>
          
        </div>--><br>
        <h1 class="heading">Non-veg Food</h1><br><br>
       <div class="head" id ="nonveg-head">
       <!--   <img src="/img/Hyderabadi Chicken Fry.jpeg" class="veg-des">
           <img src="butter.png" class="veg-des">
            <img src="/img/biryani.png" class="veg-des">
            <img src="/img/fish curry.jpeg" class="veg-des">
            <img src="img/egg bhurji.jpeg" class="veg-des">
            <img src="img/chicken curry.jpeg" class="veg-des">-->
        </div>
        <!--<div class="head-des">
            <p>Chicken Fry  <br> &#8377 150</p>
            <p>butter chicken <br> &#8377 150</p>
            <p> Shahi Biryani <br> &#8377 150</p>
          <p>Fish curry <br> &#8377 150</p>
            <p>Egg Bhurji <br> &#8377 150</p>
            <p>chicken curry <br> &#8377 150</p>
        </div>-->
   </div></div>
    </div>
  </div>
    </section>
    <!---menu content-->
       
    <script>
        const allSideMenu = document.querySelectorAll('#sidebar .side-menu.top li a');
    
        allSideMenu.forEach(item=> {
            const li = item.parentElement;
        
            item.addEventListener('click', function () {
                allSideMenu.forEach(i=> {
                    i.parentElement.classList.remove('active');
                })
                li.classList.add('active');
            })
        });
        
        
        
        
        // TOGGLE SIDEBAR
        const menuBar = document.querySelector('#content nav .bx.bx-menu');
        const sidebar = document.getElementById('sidebar');
        
        menuBar.addEventListener('click', function () {
            sidebar.classList.toggle('hide');
        })
        
        
        
        
        
        
        
        const searchButton = document.querySelector('#content nav form .form-input button');
        const searchButtonIcon = document.querySelector('#content nav form .form-input button .bx');
        const searchForm = document.querySelector('#content nav form');
        
        searchButton.addEventListener('click', function (e) {
            if(window.innerWidth) {
                e.preventDefault();
                searchForm.classList.toggle('show');
                if(searchForm.classList.contains('show')) {
                    searchButtonIcon.classList.replace('bx-search', 'bx-x');
                } else {
                    searchButtonIcon.classList.replace('bx-x', 'bx-search');
                }
            }
        })
        
        
        
        
        
        if(window.innerWidth ) {
            sidebar.classList.add('hide');
        } else if(window.innerWidth > 576) {
            searchButtonIcon.classList.replace('bx-x', 'bx-search');
            searchForm.classList.remove('show');
        }
        
        
        window.addEventListener('resize', function () {
            if(this.innerWidth > 576) {
                searchButtonIcon.classList.replace('bx-x', 'bx-search');
                searchForm.classList.remove('show');
            }
        })
        
        
        
       /* const switchMode = document.getElementById('switch-mode');
        
        switchMode.addEventListener('change', function () {
            if(this.checked) {
                document.body.classList.add('dark');
            } else {
                document.body.classList.remove('dark');
            }
        })
  */
  
  
       /* function toggle(){
              var card=document.getElementById('card');
             card.classList.toggle('active');
           var blur = document.getElementById('blur');
           blur.classList.toggle('active');
           }
  
  
  function printitI(){
    var printContents = document.getElementById('card').innerHTML;
        var originalContents = document.body.innerHTML;
  
        document.body.innerHTML = printContents;
  
        window.print();
  
        document.body.innerHTML = originalContents;
        window.location.reload(20);
 }*/


 
 
 const menuItems = [
    {
      imageSrc: 'pizza.png',
      name: 'Pizza',
      price: '&#8377 250',
      link: 'pizzareceptionist.html'
    },
    {
      imageSrc: 'img/burger.jpg',
      name: 'Burger',
      price: '&#8377 200'
    },
    {
      imageSrc: 'img/veg biryani.jpeg',
      name: 'Biryani',
      price: '&#8377 200',
       link: 'receptionist_menudes.html'
    },
    {
      imageSrc: 'img/soup.jpeg',
      name: 'Soup',
      price: '&#8377 100'
    },
    {
      imageSrc: 'desert.jpg',
      name: 'Desert',
      price: '&#8377 90'
    },
    
    // Add more items as needed
  ];



 

  // Function to create dynamic HTML based on menu items
  function createMenuItems() {
    const menuContainer = document.getElementById('menuItems');

    menuItems.forEach(item => {
      const newDiv = document.createElement('div');
      newDiv.innerHTML = `
        <img src="${item.imageSrc}" class="veg">
        <h3>${item.name}</h3>
        <p>${item.price}</p>
      `;
      newDiv.classList.add('menu-item');

      // Add click event listener to redirect on click
      newDiv.addEventListener('click', () => {
        console.log(`Redirecting to: ${item.link}`);
        window.location.href = `pizzareceptionist.html?id=${item.name}`; // Redirect to specified link
      });

      menuContainer.appendChild(newDiv);
    });
  }

  createMenuItems();
/*div creation*/

/*veg food*/
function addVegItemsToDisplay(item) {
  const vegContainer = document.getElementById('veg-head');
  const vegDiv = createVegItems(item);
  vegContainer.appendChild(vegDiv);
}

// Function to fetch data from the backend
const fetchData = async () => {
  const response = await fetch(
    `https://polliwog-immune-stallion.ngrok-free.app/menu/getmenus/vegornonveg/1/veg`,
    {
      method: "GET",
      headers: {
        "Content-Type": "application/json",
        "ngrok-skip-browser-warning": "true",
      },
    }
  );

  if (response.ok) {
    const data = await response.json();
    vegItems = data;
    console.log("vegItems : ", vegItems);
    renderData();
  } else {
    alert("Unable to fetch data");
  }
};

// Function to render data on the webpage
// ...

// Function to create a veg item element
function createVegItem( name, price, id,foodimg,discount) {
  const vegItem = document.createElement('div');
  vegItem.innerHTML = `
    <a href="receptionist_menudes.html?id=${id}">
      <img src="${foodimg}" alt="${name}" class="veg-des">
      <br>
      <p>${name}</p><p><span style="text-decoration: line-through; color: green;">&#8377;${price}</span>&nbsp; &nbsp;<span>${discount}% Off</span></p><p>&#8377;${price-price*discount/100}</p>
    </a>
  `;
  vegItem.classList.add('veg-head');

  vegItem.addEventListener('click', () => {
    console.log(`Redirecting to: receptionist_menudes.html?id=${id}`);
  });

  return vegItem;
}

// Function to render data on the webpage
const renderData = () => {
  const vegContainer = document.getElementById('veg-head');

  // Iterate over vegItems array
  vegItems.forEach(item => {
    // Create a veg item element for each item
    const vegItemElement = createVegItem( item.name, item.price, item.id,item.foodimg,item.discount);

    // Append the created veg item element to the vegContainer
    vegContainer.appendChild(vegItemElement);
  });
};

// ...

// Call the fetchData function to fetch data and render it
fetchData();


/*non veg food*/

function addnonVegItemsToDisplay(item) {
  const nonvegContainer = document.getElementById('nonveg-head');
  const nonvegDiv = createnonVegItems(item);
  nonvegContainer.appendChild(nonvegDiv);
}

//Function to fetch data from the backend
const fetchDatanon = async () => {
  const response = await fetch(
    `https://polliwog-immune-stallion.ngrok-free.app/menu/getmenus/vegornonveg/1/nonveg`,
    {
      method: "GET",
      headers: {
        "Content-Type": "application/json",
        "ngrok-skip-browser-warning": "true",
      },
    }
  );

  if (response.ok) {
    const data = await response.json();
    nonvegItems = data;
    console.log("nonvegItems : ", nonvegItems);
    renderDatanon();
  } else {
    alert("Unable to fetch data");
  }

};




// const fetchDatanon = async () => {
//   // Show the loader before making the database request
//   document.getElementsByClassName('loader').style.display = 'block';

//   try {
//     const response = await fetch(
//       `https://royalwebtech-restaurant-production.up.railway.app/menu/getmenus/vegornonveg/1/nonveg`,
//       {
//         method: "GET",
//         headers: {
//           "Content-Type": "application/json",
//         },
//       }
//     );

//     if (response.ok) {
//       const data = await response.json();
//       nonvegItems = data;
//       console.log("nonvegItems : ", nonvegItems);
//       renderDatanon();
//     } else {
//       alert("Unable to fetch data");
//     }
//   } catch (error) {
//     console.error("Error fetching data:", error);
//     // Handle the error (e.g., display an error message)
//   } finally {
//     // Hide the loader after data is rendered or an error occurs
//     document.getElementById('loader').style.display = 'none';
//     // Show the page content (you may need to adjust this based on your specific logic)
//     showPage();
//   }
// };



// Function to render data on the webpage
// ...

// Function to create a veg item element
function createnonVegItem( name, price, id,foodimg,discount) {
  const nonvegItem = document.createElement('div');
  nonvegItem.innerHTML = `
  <a href="receptionist_menudes.html?id=${id}">
      <img src="${foodimg}" alt="${name}" class="veg-des">
      <br>
      <p>${name}</p><p><span style="text-decoration: line-through; color: green;">&#8377;${price}</span>&nbsp; &nbsp;<span>${discount}% Off</span></p><p>&#8377;${price-price*discount/100}</p>
    </a>
  `;
  nonvegItem.classList.add('nonveg-head');

  nonvegItem.addEventListener('click', () => {
    console.log(`Redirecting to: receptionist_menudes.html?id=${id}`);
  });

  return nonvegItem;
}

// Function to render data on the webpage
const renderDatanon = () => {
  const nonvegContainer = document.getElementById('nonveg-head');

  // Iterate over vegItems array
  nonvegItems.forEach(item => {
    // Create a veg item element for each item
    const nonvegItemElement = createnonVegItem( item.name, item.price, item.id,item.foodimg,item.discount);

    // Append the created veg item element to the vegContainer
    nonvegContainer.appendChild(nonvegItemElement);
  });
};

// ...

// Call the fetchData function to fetch data and render it
fetchDatanon();





document.addEventListener("DOMContentLoaded", function () {
  const resultBox = document.querySelector(".result-box");
  const form = document.querySelector("form");
  const inputBox = document.getElementById("searchInput");

  if (form && inputBox) {
    form.addEventListener("submit", function (event) {
      event.preventDefault(); // Prevent the default form submission behavior

      let input = inputBox.value.trim();
      let result = [];

      if (input.length) {
        result = vegItems.filter((item) =>
          item.name.toLowerCase().includes(input.toLowerCase())
        );
      }

      display(result);
    });

    inputBox.addEventListener("input", function () {
      let input = inputBox.value.trim();
      let result = [];

      if (input.length) {
        result = vegItems.filter((item) =>
          item.name.toLowerCase().includes(input.toLowerCase())
        );
      }
      else if (input.length) {
        result = nonvegItems.filter((item) =>
          item.name.toLowerCase().includes(input.toLowerCase())
        );
      }

      display(result);
    });

    // Add click event listener to the resultBox to handle clicks on suggestions
    resultBox.addEventListener("click", function (event) {
      const target = event.target;
      if (target.tagName === "LI") {
        // Extract the vegId from the clicked suggestion
          const id = parseInt(target.id);
        // Redirect to the VegItem page based on vegId
        window.location.href = `receptionist_menudes.html?id=${id}`;
      }
    });
  }

  function display(result) {
    if (result.length) {
      const content = result
        .map((item) => `<li id="${item.id}">${item.name} </li>`)
        .join("");
      resultBox.innerHTML = "<ul>" + content + "</ul>";
    } 
    else{
      resultBox.innerHTML =" ";
    }
  }

  
});


// function showPage() {
//   // Hide the loader
//   document.getElementsByClassName("loader").style.display = "none";
  
//   // Show the content div
//   document.getElementById("myDiv").style.display = "block";
// }


// var myVar;

// function myFunction() {
//   myVar = setTimeout(showPage, 3000);
// }

// function showPage() {
//   document.getElementById("loader").style.display = "none";
//   document.getElementById("myDiv").style.display = "block";
// }



//   document.addEventListener('DOMContentLoaded', function() {
//   const searchInput = document.querySelector('input[type="search"]');
//   const vegContainer = document.getElementById('veg-head');
//   const nonVegContainer = document.getElementById('nonveg-head');

//   searchInput.addEventListener('input', function() {
//     const searchTerm = searchInput.value.trim().toLowerCase();

//     // Clear previous items in containers
//     vegContainer.innerHTML = '';
//     nonVegContainer.innerHTML = '';

//     // Filter and create new items based on the search term
//     const filteredVegItems = vegItems.filter(item => item.name.toLowerCase().includes(searchTerm));
//     const filteredNonVegItems = nonVegItems.filter(item => item.name.toLowerCase().includes(searchTerm));

//     // Create and append the filtered items
//     filteredVegItems.forEach(item => {
//       const newVegItem = createVegItem(item.imageSrc, item.name, item.price, item.vegId);
//       vegContainer.appendChild(newVegItem);
//     });

//     filteredNonVegItems.forEach(item => {
//       const newNonVegItem = createNonVegItem(item.imageSrc, item.name, item.price, item.nonVegId);
//       nonVegContainer.appendChild(newNonVegItem);
//     });
//   });
// });







</script>


</script>
  
  </body>
</html>